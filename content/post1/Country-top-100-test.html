---
title: "Test"
date: 2020-03-13T14:19:53-05:00
draft: false
links:
  - icon_pack: fab
    name: Docs
    url: courses/example1
  - icon_pack: fab
    name: Slides
    url: slides/example
  - icon_pack: fab
    name: Project
    url: project1/internal-project
bibliography: /home/redapemusic35/VimWiki/Exported-Items.bib
---



<pre><code>## # A tibble: 50 x 2
##     line text                                                                   
##    &lt;int&gt; &lt;chr&gt;                                                                  
##  1     1 &quot;&quot;                                                                     
##  2     2 &quot;And wonder who you&#39;re married to\n\nWanna say it now, wanna make it c…
##  3     3 &quot;34 was bad, so I just turn to 35\nYeah, I&#39;m a keeper\nI keep digging …
##  4     4 &quot;And you loved me the best you could\nI&#39;m the one who dropped the ball…
##  5     5 &quot;Put some days, put some miles in the rearview\nA few state lines &#39;twe…
##  6     6 &quot;And words by themselves can&#39;t right all the wrongs\n\nIn a world that…
##  7     7 &quot;You and your girl had a fight\nAnd now she&#39;s saying goodbye\nShe ran …
##  8     8 &quot;That one kiss, I knew\nThere was nothing I wouldn&#39;t do\nJust to give …
##  9     9 &quot;Was the first time you ever scared me\n\nGod knows I don&#39;t know\nExac…
## 10    10 &quot;Sun settin&#39; on goodbye\nYeah, it&#39;s hard to believe\nIt wasn&#39;t me tryi…
## # … with 40 more rows</code></pre>
<pre><code>## # A tibble: 50 x 2
##     line text                                                                   
##    &lt;int&gt; &lt;chr&gt;                                                                  
##  1     1 &quot;Better hit the deck like the card dealer\nMy whole squad&#39;s in here, w…
##  2     2 &quot;Yeah (Ayy, ah)\n\nI&#39;m the hood Mona Lisa, break a nigga into pieces\n…
##  3     3 &quot;Two big .40s and a big ass Draco (Two, boom, boom)\nThree more millio…
##  4     4 &quot;Uh, posted (Posted), in front of the trap (Front the trap)\nSelling d…
##  5     5 &quot;(Ayy, bring it, bring it back, bring it back, bring it back)\nOh, yea…
##  6     6 &quot;With a bitch that&#39;s shinin&#39;, lookin&#39; like the moon\nSaid she wanna pa…
##  7     7 &quot;\nTrap money, ayy\nSnow bunnies, ayy\nTrap money, ayy\nPush start, ay…
##  8     8 &quot;1942, I take you back in that &#39;Rari\n\nOkay, I pull up, hop out at th…
##  9     9 &quot;I ain&#39;t even have to trap no more &#39;cause I was doing it too fluently\…
## 10    10 &quot;But I&#39;m tired of being tired of being tired\n\nThat part of me done d…
## # … with 40 more rows</code></pre>
<pre><code>## # A tibble: 15,184 x 2
##     line word   
##    &lt;int&gt; &lt;chr&gt;  
##  1     2 and    
##  2     2 wonder 
##  3     2 who    
##  4     2 you&#39;re 
##  5     2 married
##  6     2 to     
##  7     2 wanna  
##  8     2 say    
##  9     2 it     
## 10     2 now    
## # … with 15,174 more rows</code></pre>
<pre><code>## # A tibble: 28,432 x 2
##     line word  
##    &lt;int&gt; &lt;chr&gt; 
##  1     1 better
##  2     1 hit   
##  3     1 the   
##  4     1 deck  
##  5     1 like  
##  6     1 the   
##  7     1 card  
##  8     1 dealer
##  9     1 my    
## 10     1 whole 
## # … with 28,422 more rows</code></pre>
<pre><code>## # A tibble: 50 x 4
##     line text                                                 linenumber chapter
##    &lt;int&gt; &lt;chr&gt;                                                     &lt;int&gt;   &lt;int&gt;
##  1     1 &quot;&quot;                                                            1       0
##  2     2 &quot;And wonder who you&#39;re married to\n\nWanna say it n…          1       0
##  3     3 &quot;34 was bad, so I just turn to 35\nYeah, I&#39;m a keep…          1       0
##  4     4 &quot;And you loved me the best you could\nI&#39;m the one w…          1       0
##  5     5 &quot;Put some days, put some miles in the rearview\nA f…          1       0
##  6     6 &quot;And words by themselves can&#39;t right all the wrongs…          1       0
##  7     7 &quot;You and your girl had a fight\nAnd now she&#39;s sayin…          1       0
##  8     8 &quot;That one kiss, I knew\nThere was nothing I wouldn&#39;…          1       0
##  9     9 &quot;Was the first time you ever scared me\n\nGod knows…          1       0
## 10    10 &quot;Sun settin&#39; on goodbye\nYeah, it&#39;s hard to believe…          1       0
## # … with 40 more rows</code></pre>
<pre><code>## # A tibble: 50 x 4
##     line text                                                 linenumber chapter
##    &lt;int&gt; &lt;chr&gt;                                                     &lt;int&gt;   &lt;int&gt;
##  1     1 &quot;&quot;                                                            1       0
##  2     2 &quot;And wonder who you&#39;re married to\n\nWanna say it n…          1       0
##  3     3 &quot;34 was bad, so I just turn to 35\nYeah, I&#39;m a keep…          1       0
##  4     4 &quot;And you loved me the best you could\nI&#39;m the one w…          1       0
##  5     5 &quot;Put some days, put some miles in the rearview\nA f…          1       0
##  6     6 &quot;And words by themselves can&#39;t right all the wrongs…          1       0
##  7     7 &quot;You and your girl had a fight\nAnd now she&#39;s sayin…          1       0
##  8     8 &quot;That one kiss, I knew\nThere was nothing I wouldn&#39;…          1       0
##  9     9 &quot;Was the first time you ever scared me\n\nGod knows…          1       0
## 10    10 &quot;Sun settin&#39; on goodbye\nYeah, it&#39;s hard to believe…          1       0
## # … with 40 more rows</code></pre>
<pre class="r"><code>original_books &lt;- austen_books() %&gt;%
  group_by(book) %&gt;%
  mutate(linenumber = row_number(),
         chapter = cumsum(str_detect(text, regex(&quot;^chapter [\\divxlc]&quot;,ignore_case = TRUE)))) %&gt;%
  ungroup()

tidy_books &lt;- original_books %&gt;%
  unnest_tokens(word, text)

tidy_books &lt;- tidy_books %&gt;%
  anti_join(stop_words)</code></pre>
<pre><code>## Joining, by = &quot;word&quot;</code></pre>
<pre class="r"><code>countrytidy_books &lt;- original_books %&gt;%
  unnest_tokens(word, text)

countrytidy_books</code></pre>
<pre><code>## # A tibble: 725,055 x 4
##    book                linenumber chapter word       
##    &lt;fct&gt;                    &lt;int&gt;   &lt;int&gt; &lt;chr&gt;      
##  1 Sense &amp; Sensibility          1       0 sense      
##  2 Sense &amp; Sensibility          1       0 and        
##  3 Sense &amp; Sensibility          1       0 sensibility
##  4 Sense &amp; Sensibility          3       0 by         
##  5 Sense &amp; Sensibility          3       0 jane       
##  6 Sense &amp; Sensibility          3       0 austen     
##  7 Sense &amp; Sensibility          5       0 1811       
##  8 Sense &amp; Sensibility         10       1 chapter    
##  9 Sense &amp; Sensibility         10       1 1          
## 10 Sense &amp; Sensibility         13       1 the        
## # … with 725,045 more rows</code></pre>
<pre class="r"><code>hiphoptidy_books &lt;- original_books2 %&gt;%
  unnest_tokens(word, text)

hiphoptidy_books</code></pre>
<pre><code>## # A tibble: 28,432 x 4
##     line linenumber chapter word  
##    &lt;int&gt;      &lt;int&gt;   &lt;int&gt; &lt;chr&gt; 
##  1     1          1       0 better
##  2     1          1       0 hit   
##  3     1          1       0 the   
##  4     1          1       0 deck  
##  5     1          1       0 like  
##  6     1          1       0 the   
##  7     1          1       0 card  
##  8     1          1       0 dealer
##  9     1          1       0 my    
## 10     1          1       0 whole 
## # … with 28,422 more rows</code></pre>
<pre class="r"><code>data(stop_words)

countrytidy_books &lt;- countrytidy_books %&gt;%
  anti_join(stop_words)</code></pre>
<pre><code>## Joining, by = &quot;word&quot;</code></pre>
<pre class="r"><code>data(stop_words)

hiphoptidy_books &lt;- hiphoptidy_books %&gt;%
  anti_join(stop_words)</code></pre>
<pre><code>## Joining, by = &quot;word&quot;</code></pre>
<pre class="r"><code>countrytidy_books %&gt;%
  count(word, sort = TRUE)</code></pre>
<pre><code>## # A tibble: 13,914 x 2
##    word       n
##    &lt;chr&gt;  &lt;int&gt;
##  1 miss    1855
##  2 time    1337
##  3 fanny    862
##  4 dear     822
##  5 lady     817
##  6 sir      806
##  7 day      797
##  8 emma     787
##  9 sister   727
## 10 house    699
## # … with 13,904 more rows</code></pre>
<pre class="r"><code>hiphoptidy_books %&gt;%
  count(word, sort = TRUE)</code></pre>
<pre><code>## # A tibble: 2,763 x 2
##    word       n
##    &lt;chr&gt;  &lt;int&gt;
##  1 yeah     526
##  2 bitch    161
##  3 nigga    137
##  4 niggas   130
##  5 shit     119
##  6 ayy      116
##  7 em       107
##  8 love      68
##  9 gon       66
## 10 time      63
## # … with 2,753 more rows</code></pre>
<pre class="r"><code>frequency &lt;- bind_rows(mutate(countrytidy_books, author = &quot;Country&quot;),
                       mutate(hiphoptidy_books, author = &quot;Hip-Hop&quot;),
               mutate(tidy_books, author = &quot;Jane Austen&quot;)) %&gt;% 
  mutate(word = str_extract(word, &quot;[a-z&#39;]+&quot;)) %&gt;%
  count(author, word) %&gt;%
  group_by(author) %&gt;%
  mutate(proportion = n / sum(n)) %&gt;% 
  select(-n) %&gt;% 
  spread(author, proportion) %&gt;% 
  gather(author, proportion, `Country`:`Hip-Hop`)


ggplot(frequency, aes(x = proportion, y = `Jane Austen`, color = abs(`Jane Austen` - proportion))) +
  geom_abline(color = &quot;gray40&quot;, lty = 2) +
  geom_jitter(alpha = 0.1, size = 2.5, width = 0.3, height = 0.3) +
  geom_text(aes(label = word), check_overlap = TRUE, vjust = 1.5) +
  scale_x_log10(labels = percent_format()) +
  scale_y_log10(labels = percent_format()) +
  scale_color_gradient(limits = c(0, 0.001), low = &quot;darkslategray4&quot;, high = &quot;gray75&quot;) +
  facet_wrap(~author, ncol = 2) +
  theme(legend.position=&quot;none&quot;) +
  labs(y = &quot;Jane Austen&quot;, x = NULL)</code></pre>
<pre><code>## Warning: Removed 15446 rows containing missing values (geom_point).</code></pre>
<pre><code>## Warning: Removed 15448 rows containing missing values (geom_text).</code></pre>
<p><img src="/post1/Country-top-100-test_files/figure-html/unnamed-chunk-2-1.png" width="672" /></p>
<pre><code>## Warning: Removed 15446 rows containing missing values (geom_point).</code></pre>
<pre><code>## Warning: Removed 15448 rows containing missing values (geom_text).</code></pre>
<p><img src="/post1/Country-top-100-test_files/figure-html/unnamed-chunk-3-1.png" width="672" /></p>
<div id="works-cited" class="section level1">
<h1>Works Cited</h1>
</div>
