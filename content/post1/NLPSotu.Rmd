```{r}
library(sentimentr)
library(ggplot2)
library(magrittr)
library(dplyr)
library(sotu)
input <- sotu_meta
input$text <- sotu_text
input
sentiment = sentiment_by(input$president)
plot(sentiment)
out3 <- with(
    presidential_debates_2012, 
    sentiment_by(
        get_sentences(dialogue), 
        list(person, time)
    )
)
out3
plot(out3)

out <- input %>%
    dplyr::mutate(dialogue_split = get_sentences(text)) %$%
    sentiment_by(dialogue_split, list(president, year)) %$%
    emotion_by(president)
out
plot(out)
plot(uncombine(out))
out2 <- presidential_debates_2012 %>%
    get_sentences() %$%
    sentiment_by(dialogue, list(person, time))
out2
plot(out2)
```
